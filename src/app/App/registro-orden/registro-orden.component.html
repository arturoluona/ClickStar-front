<div class="container">
	<h5 class="mt-3">Registro de Orden</h5>
	<hr class="m-0 p-0">
	<form [formGroup]="formOrden">
		<label>Cliente</label>	  
		<ng-select #selectProductRef [items]="results$ | async"
					formControlName="customer"
					bindLabel="name"
					(close)="selectProductRef.blur(); selectProductRef.focus()"
					[addTag]="true"
					[multiple]="false"
					[disabled]="true"
					[hideSelected]="true"
					[trackByFn]="trackByFn"
					[minTermLength]="3"
					[required]="true"
					(change)="selectUser($event)"
					[loading]="userLoading"
					[typeToSearchText]="'Buscar Cliente'"
					[typeahead]="userInput$">
			<ng-template ng-label-tmp let-item="item">
			{{item?.name}}<small class="pl-2"><i>{{item?.ci}}</i></small>
			</ng-template>
			<ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm">
			
				<div class="p-1">{{item?.name}} &nbsp;&nbsp;&nbsp;<small><i>{{item?.ci}}</i></small></div>
				
			</ng-template>
		</ng-select>

		<label>Técnico</label>
		<ng-select  [items]="tecnicos$ | async"
					bindLabel="name"
					autofocus
                   placeholder="Selecciona un técnico"
				   formControlName="tecnico">
		</ng-select>

		<label>Estatus</label>
		<ng-select [items]="status"
				   bindLabel="name"
				   bindValue="value"
                   placeholder="Selecciona un estatus"
				   formControlName="status">
		</ng-select>

		<!-- Select para traer los formularios -->
		<label>Equipos</label>
		<ng-select [items]="typeDevices"
                   bindLabel="name"
                   placeholder="Selecciona un equipo"
				   [(ngModel)]="selectedDevice"
				   [ngModelOptions]="{ standalone: true }">
		</ng-select>
		
		<ng-select *ngIf="selectedDevice" #selectDeviceRef [items]="device$ | async"
					formControlName="device"
					bindLabel="name"
					class="mt-4"
					(close)="selectDeviceRef.blur(); selectDeviceRef.focus()"
					[addTag]="true"
					[multiple]="false"
					[disabled]="true"
					[hideSelected]="true"
					[trackByFn]="trackByFn"
					[minTermLength]="3"
					[required]="true"
					(change)="selectDevices($event)"
					[loading]="deviceLoading"
					[typeToSearchText]="'Buscar Equipo'"
					[typeahead]="deviceInput$">
			<ng-template ng-label-tmp let-item="item">
			{{item?.model}}<small class="pl-2"><i>{{item?.serial}}</i></small>
			</ng-template>
			<ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm">
			
				<div class="p-1">{{item?.model}} &nbsp;&nbsp;&nbsp;<small><i>{{item?.serial}}</i></small></div>
				
			</ng-template>
		</ng-select>
	
	</form>










<!-- Formulario Otros -->
  <div class="modal" tabindex="-1" role="dialog" id="exam">
	<div class="modal-dialog" role="document">
	  <div class="modal-content">
		<div class="modal-header">
		  <h5 class="modal-title">Formulario Otros Dispositivos</h5>
		  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		  </button>
		</div>
		<div class="modal-body">
		 <!-- Formulario Otros -->
		<div  class="col-md-8">
	<div class="form-group">
		<br>
		<h3>OTROS</h3>
	  </div>
	  
	  <div class="form-group">
		  <label>Nombre Equipo</label>
		  <input type='text' class='form-control' id='otro_nombre' maxlength="30" name='otro_nombre' placeholder='Que equipo sera registrado(*)'>
	  </div>
	  
	  <div class="form-group">
		  <label>Marca</label>
		  <input type='text' class='form-control' id='otro_marca' maxlength="30" name='otro_marca' placeholder='Marca (*)'>
	  </div>
	  
	  <div class="form-group">
		  <label>Modelo</label>
		  <input type='text' class='form-control' id='otro_modelo' maxlength="30" name='otro_modelo' placeholder='Modelo (*)'>
	  </div>
	  
	  <div class="form-group">
		  <label>Serial</label>
		  <input type='text' class='form-control' id='otro_serial' maxlength="30" name='otro_serial' placeholder='Serial(*)'>
	  </div>
	  
	  
	  
	  <div class='form-group'>
		  <label for='otro_observacion'>Observaciones</label>
		  <textarea class='form-control' rows='3' id="otro_observacion" name='otro_observacion' maxlength="100" placeholder="Observaciones realizadas"></textarea>
	  </div>
		</div>
		</div>
		<div class="modal-footer">
		  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
		  <button type="button" class="btn btn-primary">Save changes</button>
		</div>
	  </div>
	</div>
  </div>

	<button type="button" class="btn btn-dark " data-toggle="modal" data-target="#verifGuardar">
	Guardar
	</button>


</div>


<app-navbar></app-navbar>
